<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="lista-appuntamenti">

  <style>

    :host paper-card {
      border-radius: 10px;
      margin: 5px;
    }
    :host img {
      display: inline-block;
      height: 64px;
      width: 64px;
      border-radius: 10%;
      border: 1px dashed #EAEAEA;
      color: white;
      line-height: 64px;
      font-size: 30px;
      text-align: center;
      padding: 6px;
    }
    :host .title {
      display: inline-block;
      vertical-align: top;
    }
    :host card-content {
      
    }
    :host .medium {
      font-size: 1.6em;
      padding-bottom: 8px;
    }
    }
    :host .small {
      font-size: 1.2em;
      padding-bottom: 3px;
    }
    :host strong { text-transform: uppercase; }
  </style>

  <template>
    <iron-ajax url="./appuntamenti.json" last-response="{{listaAppuntamenti}}" auto></iron-ajax>
    <template is="dom-repeat" items="{{listaAppuntamenti}}">
      <paper-card fadeImage="true" animated-shadow>
        <div class="card-content">
          <image src="elements/lista-appuntamenti/{{item.image}}"></image>
          <div class="title">
            <div class="medium">{{item.title}}</div>
            <div class="small">{{item.subtitle}}</div>
          </div>
          <div class="card-content">
            <div class="space-left"><strong>Data</strong>: {{item.date}}</div>
            <div class="space-left"><strong>Orario</strong>: {{item.time}}</div>
            <div class="space-left"><strong>Luogo</strong>: {{item.location}}</div>
          </div>
        </div>
        <div class="card-actions">
          <paper-button><a href="{{item.link}}" target="_blank">informazioni</a></paper-button>
        </div>
      </paper-card>
    </template>
  </template>

  <script>
    (function() {
      'use strict';
      
      Polymer({
        is: 'lista-appuntamenti',
        properties: {
          listaAppuntamenti: {
            type: Array,
            notify: true,
            value: function(){
              return [];
            },
            observer: 'valueChanged'
          }
        },
        valueChanged: function(){
          console.log('dai cambiati');
        }
      });
    })();
  </script>
  
</dom-module>
